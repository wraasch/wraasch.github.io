<head>
    <title>ALS 414 Project Template</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="src/base.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
    <script src="src/scripts.js"></script>
</head>
<nav class="navbar navar-fixed-top">
  <span class="navbar-brand">
    <img class="navbar-logo" src="images/kgi-logo.jpg">
  </span>
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      <li><a href="index.html">Home</a></li>
      <li><a href="about-us.html">About Us</a></li>
      <li><a href="medications.html">Medications</a></li>
      <li><a href="patients.html">Patients</a></li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown">Providers</a>
        <ul class="dropdown-menu">
          <li><a href="family.html">Family</a></li>
          <li><a href="diabetes.html">Diabetes</a></li>
          <li><a href="cancer.html">Cancer</a></li>
          <li><a href="rare.html">Rare Disease</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>
<body>
  <div class="container">
    <h1 class="text-title">My Profile</h1>
    <form style="display: none;" id="not-logged-in">
      <div>
        <label>What is your name?</label>
        <input type="text" id="name">
      </div>
      <div>
        <label>Please paste the URL to your image</label>
        <input type="url" id="pic">
      </div>
      <div>
        <label>Please select your role:</label>
        <select id="role">
          <option value="Patient">Patient</option>
          <option value="Provider">Provider</option>
          <option value="Producer">Producer</option>
          <option value="Payer">Payer</option>
        </select>
      </div>
      <div>
        <input id="profile-submit" class="button-example" type="submit" value="Submit" />
      </div>
    </form>
    <div style="display: none;" id="logged-in">
      <h1>Profile</h1>
      <img id="insert-pic-from-cookie" src="" />
      <h3>Name</h3>
      <p id="insert-name-from-cookie"></p>
      <h3>Role</h3>
      <p id="insert-role-from-cookie"></p>
    </div>
  </div>
  <script>
    $('#profile-submit').click(function(){
      // Get inputs from profile form
      var profileName = $('#name').val();
      var profilePic = $('#pic').val();
      var profileRole = $('#role').val();

      // Set Cookies equal to inputs
      Cookies.set("profileName", profileName);
      Cookies.set("profilePic", profilePic);
      Cookies.set("profileRole", profileRole);
    })
    // If profile cookies exist, show profile
    if (Cookies.get("profileName")) {
      $('#logged-in').show();
      // Insert profile information from browser's saved cookies
      var cookieName = Cookies.get("profileName")
      $('#insert-name-from-cookie').text(cookieName);
      var cookieRole = Cookies.get("profileRole")
      $('#insert-role-from-cookie').text(cookieRole);
      var cookiePic = Cookies.get("profilePic")
      $('#insert-pic-from-cookie').attr("src", cookiePic);
    } else {
      $('#not-logged-in').show();
    }
  </script>
</body>
